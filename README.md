# NJUST《新标准 C++程序设计》参考答案及题目精析

## 目录

- [前言](#前言)

- [贡献者名单](#贡献者名单)

- [第 1 章 —— 概述](#)

- [第 2 章 —— 基本类型与变量](#第-2-章)

- [第 3 章 —— 运算符与表达式](#第-3-章)

- [第 4 章 —— 基本语句](#第-4-章)

- [第 5 章 —— 函数和编译预处理](#第-5-章)

- [第 6 章 —— 数组与字符串](#第-6-章)

- [第 7 章 —— 结构、枚举、联合体](#第-7-章)

- [第 8 章 —— 指针和引用](#第-8-章)

## 前言

本仓库为南京理工大学《新标准 C++程序设计》参考答案。

本答案为民间制作，并非官方标准答案。如有疏漏之处，欢迎各位大佬批评指正（通过 issue 或者 pull request），答案才刚刚开始写，预计3月底会把前半本书肝完。

**⚠ 注意学术诚信，严禁在课堂作业中抄袭本仓库提供的源代码，否则后果自负！**

<!-- 如果你愿意的话，也可以通过以下二维码支持：

![ppQxfxS.jpg](https://s1.ax1x.com/2023/03/13/ppQxfxS.jpg) -->

## 贡献者名单

- 南京理工大学 网络空间安全学院 22 级 Robert Huang（联系 QQ：2191806401）

## 第 2 章

【选择题速查】

\* 第 3 题答案为 ABC

DBXAC BBCCB

DD

### 2.1

【答案】**D**

A~C 项均为 C++关键字，`void` 也是关键字，但是 C++区分大小写，`Void` 不同于 `void`，不是关键字.

### 2.2

【答案】**B**

C++中变量名不可以用数字开头（只能以字母或下划线开头）.

### 2.3

【答案】**ABC**

四个选项的数据大小依次为 2, 8, 8, 4 字节.

【注】事实上，C++标准中只规定了数据类型的相对大小，并没有规定数据类型的具体大小，比如我们常说 `int` 是 4 个字节大小，但其实在一些单片机上也可以是 2 个字节，所以这个并不绝对. 书中和我们考试时通常默认是常见机器中的数据类型大小（考试以 [课本 P16] 标称的大小为准）.

### 2.4

【答案】**A**

参见 [课本 P17 - 2.2.2] 的四种字符型.

### 2.5

【答案】**C**

【A 项】 十进制整型常量 `38``.

【B 项】 `0` 开头，为八进制整型常量，八进制数 `46` 等价于十进制下的 `38`.

【C 项】 `0` 开头，为八进制整型常量，八进制的数码为 `0`~`7`，不含`8` ，因此是非法的表示.

【D 项】`0B` 开头，为二进制整型常量，二进制数 `100110` 等价于十进制下的 `38`.

## 第 3 章

【选择题速查】

CCDBD BCADA

CCBDB DCDD

### 3.1

【答案】**C**

模运算 `%` 要求两个操作数均为整型，

`a %= b` 相当于 `a = a % b`，要求`a`和`b`均为整型.

### 3.2

【答案】**C**

题干的表达式是一个逗号表达式，这类表达式整体的值即为最后一项（`x+5/3`）的值.

注意`5/3`是两个整型做除法，小数点后会被截去，因此`5/3`的值为`1`.

`x+1`即为`4.0`（这里是一个`double`类型和一个`int`类型运算，结果为`double`类型）

【注】虽然说如果把表达式输出的话可能就是个整数 4，但是这里主要是想考察以下大家知道最终表达式是`double`类型这个事，不必纠结答案，知道知识点就好.

### 3.3

【答案】**D**

【A 项】 这是一条条件判断的表达式，不是赋值表达式.

【B 项】 根据优先级，先执行`i++`，得到一个右值，不能对右值执行前置`++`操作，因此错误.

【C 项】 `a++`为右值，不能赋值.

【D 项】`i`被强制类型转换为`int`类型，并赋值给`a`.

### 3.28（3）

[**_示例程序 1_**](chapter_3\ex3_28_3_v1.cpp) |
[**_示例程序 2_**](chapter_3\ex3_28_3_v2.cpp)

将输入的浮点数通过 int 强制类型转换提取整数部分，用浮点数减去整数部分即为小数部分。

## 第 4 章

### 4.11（1）

### 4.11（2）

## 第 5 章

### 5.12

答案是 23，课本无正确选项。

与函数调用不同，宏展开是简单的文本替换，因此不会多加括号。

宏展开以后的程序如下：

```cpp
int main(void)
{
    int x = 1, y = 2, t;
    t = x * y + x * y * 10; //宏展开不会多加括号
    cout << t;
    return 0;
}
```

将 x, y 值代入表达式，显然得到 t 的值为 23.

## 第 6 章

## 第 7 章

【选择题速查】

BBCDB BBBCC

DC

### 7.11

| 内存块编号 | 10       | 9   |
| ---------- | -------- | --- |
| 二进制数据 | 00000000 |     |

## 第 8 章

【选择题速查】

CCBDC CCDCB

CAADD CBCDC

DDABC CBBDD

DBCBD BBC

### 8.1

【答案】**C**

`p` 为指向变量 `k` 的指针，`*p` 即对指针 `p` 解引用，其值为变量 `k`（左值），即 8.

### 8.2

【答案】**C**

【A 项】 `f`是`float`类型的变量，声明指向 f 的指针 p 类型应该为 float*，而不是 int*

【B 项】 一般不允许直接使用地址值声明指针

【C 项】 该语句等价于

```cpp
int k;
int *p = &k;
```

语法正确。

【D 项】
该语句等价于

```cpp
int k;
int &p = &k;//Line A
```

A 行代码等号左边表示声明一个 int 变量的引用，等号右边应提供一个 int 型变量，而不是 int 型变量的地址。

### 8.4

【答案】**D**

`NULL`,`0`,`nullptr`均可作为空指针的值

【A 项】 `NULL`是通过宏定义的空指针值（其值为`0LL`）。

【B 项】 `0`可以作为空指针值。

【C 项】 `nullptr`是 C++11 标准规定的用于空指针的关键字（推荐使用）。

【D 项】 不存在`ptrnull`这一关键字。

### 8.19

本题考察嵌套类型的定义。关键的技巧是:从最内层的标识符出发，由内向外依次读取，即可判断出复杂类型的含义。

题干语句定义的是一个函数`f`，参数表为(int \*,int)，返回值为`int*`

定义了一个指针 fp1,指向参数表为(int \*,int)，返回值为`int*`类型的函数，这里指向了符合该类型的函数 f

定义了一个存放了 4 个指针的指针数组 fp2,这些指针指向参数表为(int \*,int)，返回值为`int*`类型的函数，这里 fp2 的第一个元素（fp2[0]）是指向 f 的指针，其余为空指针。

定义了一个函数 f（该函数与题干的函数 f 是重载关系），函数 f 的参数是一个指向函数的指针，被指向的函数返回值为 int\*，参数表为(int \*,int)，函数 f 的返回值是 int\*类型。函数 f 的函数体调用了所传参数指向的函数，并提供 nullptr,3 作为被调函数的参数，将被调函数返回的指针作为函数`f`的返回值返回。

定义了一个函数 f（该函数与题干的函数 f 是重载关系），该函数参数表为空，返回值是一个指向函数的指针，被指向的函数返回值为 int\*，参数表为(int \*,int)。选项 f 的函数体返回题干函数 f 的指针，因此 D 项是将函数指针作为了函数的返回值，符合题意。

### 8.35

【答案】B

表达式`a-1+1`计算的结果为 3，这一结果被放置在一块与变量`a`不同的内存空间中。因此通过 ra+=2 修改 ra 值的时候，修改的是 ra 对应内存的值，而不会对 a 的值产生影响。

同学们可以将二者的地址打印出来加以体会：

`cout << &ra << " " << &a << endl;`

【拓展延伸】[M.2 — R-value references, LEARN C++](https://www.learncpp.com/cpp-tutorial/rvalue-references/)
